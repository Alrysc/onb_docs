
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://alrysc.github.io/onb_docs/onb_overview/entities/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="artifact/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Entity - ONB Modding</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#entity-class" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ONB Modding" class="md-header__button md-logo" aria-label="ONB Modding" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ONB Modding
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Entity
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../lua/" class="md-tabs__link">
          
  
  
  Lua Primer

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  Engine Objects

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../v2.1/overview/" class="md-tabs__link">
          
  
  
  v2.1 Changes

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ONB Modding" class="md-nav__button md-logo" aria-label="ONB Modding" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ONB Modding
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Lua Primer
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Lua Primer
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/comments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Variables
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Variables
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/variables/numbers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Numbers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/variables/strings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Strings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/variables/booleans/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Booleans
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/variables/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/variables/tables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/boolean_expressions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Boolean Expressions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/comparisons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comparisons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/control_structures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Control Structures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/scope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scope
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/objects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tables As Objects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lua/useful_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Useful Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Engine Objects
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Engine Objects
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../field.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Entities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Entities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Entity
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scripted-version" class="md-nav__link">
    <span class="md-ellipsis">
      
        "Scripted" Version
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-a-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      
        Is-A Relationship
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    <span class="md-ellipsis">
      
        ID
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessible-class-members" class="md-nav__link">
    <span class="md-ellipsis">
      
        Accessible Class Members
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accessible Class Members">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field" class="md-nav__link">
    <span class="md-ellipsis">
      
        Field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hitprops" class="md-nav__link">
    <span class="md-ellipsis">
      
        HitProps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sprite" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sprite
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#animation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Animation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-important-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Important Values
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other Important Values">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#facing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Facing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Facing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-facing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Facing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#team" class="md-nav__link">
    <span class="md-ellipsis">
      
        Team
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Team">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-team" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Team
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#element" class="md-nav__link">
    <span class="md-ellipsis">
      
        Element
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Callbacks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Callbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_func
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="update_func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delta-time" class="md-nav__link">
    <span class="md-ellipsis">
      
        Delta Time
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on_spawn_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        on_spawn_func
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#battle_start_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        battle_start_func
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#battle_end_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        battle_end_func
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can_move_to_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        can_move_to_func
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_func
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deletion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deletion
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deletion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#erase" class="md-nav__link">
    <span class="md-ellipsis">
      
        erase
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="artifact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Artifact
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="spell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spell
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="obstacle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Obstacle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="character/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Character
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="player/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Player
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Enums
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Enums
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/element/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Element
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/hit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/tilestate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TileState
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/direction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Direction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Team
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/lifetimes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lifetimes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/defenseorder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DefenseOrder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/locktype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LockType
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/input/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Input
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/rank/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rank
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/highlight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Highlight
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/shadow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shadow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/colormode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ColorMode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/playback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Playback
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/audiopriority/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AudioPriority
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/audiotype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AudioType
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/cardclass/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CardClass
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/blocks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blocks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums/entitystatus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EntityStatus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    v2.1 Changes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    v2.1 Changes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v2.1/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Full Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v2.1/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v2.1/recommended_upgrades/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recommended Upgrades
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v2.1/breaking_changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Breaking Changes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scripted-version" class="md-nav__link">
    <span class="md-ellipsis">
      
        "Scripted" Version
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-a-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      
        Is-A Relationship
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    <span class="md-ellipsis">
      
        ID
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessible-class-members" class="md-nav__link">
    <span class="md-ellipsis">
      
        Accessible Class Members
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accessible Class Members">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field" class="md-nav__link">
    <span class="md-ellipsis">
      
        Field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hitprops" class="md-nav__link">
    <span class="md-ellipsis">
      
        HitProps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sprite" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sprite
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#animation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Animation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-important-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Important Values
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other Important Values">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#facing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Facing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Facing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-facing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Facing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#team" class="md-nav__link">
    <span class="md-ellipsis">
      
        Team
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Team">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-team" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Team
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#element" class="md-nav__link">
    <span class="md-ellipsis">
      
        Element
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Callbacks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Callbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_func
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="update_func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delta-time" class="md-nav__link">
    <span class="md-ellipsis">
      
        Delta Time
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on_spawn_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        on_spawn_func
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#battle_start_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        battle_start_func
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#battle_end_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        battle_end_func
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can_move_to_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        can_move_to_func
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_func
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deletion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deletion
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deletion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#erase" class="md-nav__link">
    <span class="md-ellipsis">
      
        erase
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="entity-class">Entity Class</h1>
<p>The base class of <em>things</em> that appear on the field during battle. The player character, 
an explosion effect, a pillar of fire, an enemyâ€”all of these are types of Entity.</p>
<p>In the below sections, you will read about each type of Entity in the engine:</p>
<ul>
<li>Artifact</li>
<li>Spell</li>
<li>Obstacle</li>
<li>Character</li>
<li>Player</li>
</ul>
<p>Each of these types should be used in different scenarios, so be sure to understand 
each one and use the most appropriate. </p>
<h2 id="scripted-version">"Scripted" Version</h2>
<p>I left out some types of Entity from the above list. For each Entity type (and most non-Entity 
types), the engine has a second, very similar class:</p>
<ul>
<li>ScriptedArtifact</li>
<li>ScriptedSpell</li>
<li>ScriptedObstacle</li>
<li>ScriptedCharacter</li>
<li>ScriptedPlayer</li>
</ul>
<p>For the most part, there is not much difference between each class and its "Scripted" 
counterpart. In these pages, I usually don't make the distinction and use them interchangeably,
but keep an eye out for when I specifically mention the Scripted versions. They sometimes 
have additional functionality and functions.</p>
<p>Generally, when you <em>create</em> an instance of the class, it will be a Scripted version.
When you are <em>given</em> an instance of the class, such as through the return value of an 
engine function, it will not be. When you define callbacks on the class, the <code>self</code> 
passed in will be the Scripted version, seen in the below <a href="#callbacks">callbacks</a> section.</p>
<p>When in doubt, use <code>print</code> to check the type. The console will tell you if it's a 
Scripted version or not.</p>
<h2 id="is-a-relationship">Is-A Relationship</h2>
<p>In object oriented programming, you will often see a base class that other classes 
inherit from. This means that those classes, those types of objects, have some things 
in common. </p>
<p>An Artifact <em>is an</em> Entity. 
A Spell <em>is an</em> Entity.
An Obstacle <em>is an</em> Entity.
A Character <em>is an</em> Entity.
A Player <em>is an</em> Entity.
They all share traits with Entity.</p>
<p>For descendants of Entity, this means they have access to many of the same functionality. 
Everything outlined on this page, and more, applies to every other type of Entity.</p>
<p>I will often be general in wording and say something affects Entities, or something 
searches for Entities. You will also see this wording in the code. Know that that means 
the function, code, logic, or intent applies to all types of Entity.</p>
<p>Look out for this phrasing as you read.</p>
<h2 id="id">ID</h2>
<p>The engine keeps a running tally of created Entities. Whenever a new Entity is created, 
it's assigned a unique ID in sequence. This ID can be used to identify the Entity without 
storing a reference to the Entity, and is required for a few functions.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">artifact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Battle</span><span class="p">.</span><span class="py">Artifact</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">spell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Battle</span><span class="p">.</span><span class="py">Spell</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="nv">Team</span><span class="p">.</span><span class="py">Red</span><span class="p">)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kd">local</span><span class="w"> </span><span class="nv">id_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">artifact</span><span class="p">:</span><span class="nf">get_id</span><span class="p">()</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kd">local</span><span class="w"> </span><span class="nv">id_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">spell</span><span class="p">:</span><span class="nf">get_id</span><span class="p">()</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nb">print</span><span class="p">(</span><span class="nv">id_1</span><span class="p">)</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1">-- This number will be 1 higher than id_1</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="nb">print</span><span class="p">(</span><span class="nv">id_2</span><span class="p">)</span>
</span></code></pre></div>
<p>This can almost be used to determine what Entity is older, except that the ID is divorced 
from spawn order. An Entity with an older ID could be spawned before after with a newer ID.
Modders are encouraged to spawn their Entities in the same frame they are created, both 
to ensure no resources are wasted and to try to keep IDs in a chronological order.</p>
<h2 id="accessible-class-members">Accessible Class Members</h2>
<p>Entities have their own, or store a reference to, some other engine class objects. 
Below are functions related to these.</p>
<p>Each of these classes will have their own page. Be sure to check them for what 
you can do with these objects.</p>
<h3 id="field">Field</h3>
<p>An Entity has a Field that they are on. </p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">get_field</span><span class="p">()</span>
</span></code></pre></div>
<p><code>get_field</code> will fail if the Entity has not been spawned.</p>
<h3 id="tile">Tile</h3>
<p>An Entity has a single Tile on the Field that it stands on at a time.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">tile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">get_current_tile</span><span class="p">()</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nv">tile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">get_tile</span><span class="p">()</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nv">tile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">get_tile</span><span class="p">(</span><span class="nv">Direction</span><span class="p">.</span><span class="py">Right</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>
<p>The <code>tile</code> returned from these functions can be <code>nil</code> if the Entity has 
not been spawned, or if the Entity is not on the Field. (Being absent from 
the field is unusual, so you will likely not have to code around it. But be 
aware of it.)</p>
<h3 id="hitprops">HitProps</h3>
<p>An Entity has HitProps.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">copy_hit_props</span><span class="p">()</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nv">ent</span><span class="p">:</span><span class="nf">set_hit_props</span><span class="p">(</span><span class="nv">props</span><span class="p">)</span>
</span></code></pre></div>
<p>Only Spells and Obstacles make relevant use of HitProps.</p>
<h3 id="sprite">Sprite</h3>
<p>An Entity has a Sprite.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">sprite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">sprite</span><span class="p">()</span>
</span></code></pre></div>
<h3 id="animation">Animation</h3>
<p>An Entity has an Animation.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">anim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">get_animation</span><span class="p">()</span>
</span></code></pre></div>
<h2 id="other-important-values">Other Important Values</h2>
<p>There are many other handy fields on Entity. </p>
<h3 id="facing">Facing</h3>
<p>Every Entity is <em>facing</em> either Left or Right. Its Sprite will be drawn facing left 
or right based on this. An Entity's facing is a <a href="../enums/direction/">Direction enum</a> 
value, but only <code>Direction.Right</code> and <code>Direction.Left</code> are valid.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">facing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">get_facing</span><span class="p">()</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Facing right?&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">facing</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">Direction</span><span class="p">.</span><span class="py">Right</span><span class="p">)</span>
</span></code></pre></div>
<p>You can also get the opposite of an Entity's facing using <code>Entity.get_facing_away</code>.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">facing_away</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">get_facing_away</span><span class="p">()</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Not facing right?&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">facing_away</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">Direction</span><span class="p">.</span><span class="py">Right</span><span class="p">)</span>
</span></code></pre></div>
<p>Most importantly, you can set an Entity's facing.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nv">spell</span><span class="p">:</span><span class="nf">set_facing</span><span class="p">(</span><span class="nv">player</span><span class="p">:</span><span class="nf">get_facing</span><span class="p">())</span>
</span></code></pre></div>
<p>An Entity can only face Left or Right. Others values are ignored.</p>
<h4 id="default-facing">Default Facing</h4>
<p>When an Entity is created, it has no facing. You should set its facing. If you don't, it 
will be given one when it is spawned, and it may not be what you wanted. </p>
<p>If an Entity is spawned without having a facing set, its facing will be set to match the 
facing of the Tile it was spawned on. Tiles on the left side of the field have a facing of 
Direction.Right, and Tiles on the right side of the Field have a facing of Direction.Left.</p>
<p>Essentially, their facing will be set so that they face the center of the screen.</p>
<h3 id="team">Team</h3>
<p>Entities have a Team, which is a <a href="../enums/team/">Team enum</a>. For Entities which can 
be hit, this determines what attacks can hit them.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">team</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">get_team</span><span class="p">()</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On Red Team?&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">team</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">Team</span><span class="p">.</span><span class="py">Red</span><span class="p">)</span>
</span></code></pre></div>
<p>You can set an Entity's Team with <code>Entity.set_team</code>, which takes a Team as input.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">artifact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Battle</span><span class="p">.</span><span class="py">Artifact</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nv">artifact</span><span class="p">:</span><span class="nf">set_team</span><span class="p">(</span><span class="nv">player</span><span class="p">:</span><span class="nf">get_team</span><span class="p">())</span>
</span></code></pre></div>
<p>You won't do this often, because you will give most Entities a Team when you 
create them.</p>
<div class="admonition warning">
<p class="admonition-title">Changing Player Teams</p>
<p>You will usually not want to change an Entity's Team after it has spawned. For 
Players, this is even more true. A battle ends when one Team has no members left, 
so swapping the Player's team might end the battle if doing so causes their old 
Team to be empty.</p>
</div>
<h4 id="default-team">Default Team</h4>
<p>Most Entities are given a Team when you create them, but not all. An Artifact will 
default to <code>Team.Other</code>. Characters and Players created by a Mob package will default 
to the Team of the Tile they spawn on.</p>
<h3 id="element">Element</h3>
<p>Every Entity has an Element, which is an <a href="../enums/element/">Element enum</a> value. 
See the page on Element for their effects.</p>
<p>You can set an Entity's Element with <code>Entity.set_element</code>, and fetch it with 
<code>Entity.get_element</code>.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nv">player</span><span class="p">:</span><span class="nf">set_element</span><span class="p">(</span><span class="nv">Element</span><span class="p">.</span><span class="py">Fire</span><span class="p">)</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">get_element</span><span class="p">()</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1">-- true</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="nb">print</span><span class="p">(</span><span class="nv">element</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">Element</span><span class="p">.</span><span class="py">Fire</span><span class="p">)</span>
</span></code></pre></div>
<p>By default, an Entity's Element is <code>Element.None</code>.</p>
<h2 id="callbacks">Callbacks</h2>
<p>Entities have some indexes which are used as callback functions.
They are often <code>nil</code> by default, but can be set to a function which the 
engine will call under certain conditions.</p>
<p>Many callbacks pass <code>self</code> in. Expect the same type that the Entity on the 
lefthand side of the <code>.</code> is, which may mean the Scripted variants.</p>
<p>Many of these callbacks only exist and can be set on the Scripted class 
versions.</p>
<h3 id="update_func">update_func</h3>
<p>An Entity's <code>update_func</code> takes the Entity as a parameter. It will be 
called no more than once during a frame, and will be called alongside the 
Entity's update. </p>
<p>It will not be called in a frame if the Entity will not update during that frame. </p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nv">ent</span><span class="p">.</span><span class="py">update_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Update&quot;</span><span class="p">)</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="kr">end</span>
</span></code></pre></div>
<h4 id="delta-time">Delta Time</h4>
<p>The update_func actually has one more input, a delta time <code>dt</code>, in milliseconds, 
since the last frame. It will nearly always be equal to <code>1/60</code>. I omit it here 
for two reasons:</p>
<ol>
<li>It will be removed in the next engine update.</li>
<li>It encourages you to make logic that is not based on frame numbers and that 
may be vulnerable to floating point imprecision.</li>
</ol>
<p>For point 2, the latter reason may be a non-issue in almost all cases. But it's 
more correct to use frame numbers as a basis for logic in an engine that is precisely 
based on frame timing. You are less likely to regret it.</p>
<p>If you need to count or time something, remember that this callback will run once 
every frame.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nv">spell</span><span class="p">.</span><span class="py">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nv">spell</span><span class="p">.</span><span class="py">update_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">delay</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Did nothing for 5 frames&quot;</span><span class="p">)</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">delay</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="kr">end</span>
</span></code></pre></div>
<h3 id="on_spawn_func">on_spawn_func</h3>
<p>The <code>on_spawn_func</code> takes the Entity as a parameter. The engine will call it when 
the Entity is successfully spawned. It will run only once in an Entity's lifetime.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nv">ent</span><span class="p">.</span><span class="py">on_spawn_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Spawned entity with ID &quot;</span><span class="o">..</span><span class="nv">self</span><span class="p">:</span><span class="nf">get_id</span><span class="p">())</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="kr">end</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Fact Check Needed</p>
<p>This notice will be removed once I check if it can run for an Entity which failed 
to spawn.</p>
</div>
<h3 id="battle_start_func">battle_start_func</h3>
<p>The <code>battle_start_func</code> takes the Entity as a parameter. The engine will call it 
when battle starts. This will happen only once.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nv">ent</span><span class="p">.</span><span class="py">battle_start_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Battle started.&quot;</span><span class="p">)</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="kr">end</span>
</span></code></pre></div>
<p>This callback may run later than you would expect. Specifically, it will be called 
on the first frame the player gains control after clicking OK on the Custom Screen. 
This will be just as the "Battle Start" text disappears.</p>
<div class="admonition note">
<p class="admonition-title">Fact Check Needed</p>
<p>This notice will be removed once I check if it runs at the start of this frame,
or the end of the previous one.</p>
</div>
<p>Because it runs only once, an Entity that is spawned after this will never have its 
callback run.</p>
<div class="admonition note">
<p class="admonition-title">Fact Check Needed</p>
<p>This notice will be removed once I check if it only runs for Entities which exist 
as the battle is created. </p>
</div>
<h3 id="battle_end_func">battle_end_func</h3>
<p>The <code>battle_end_func</code> takes the Entity as a parameter. It will run when the battle ends.
Specifically, when the text saying "Enemy Deleted" or similar begins to appear.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nv">player</span><span class="p">.</span><span class="py">battle_end_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Battle ended.&quot;</span><span class="p">)</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="kr">end</span>
</span></code></pre></div>
<h3 id="can_move_to_func">can_move_to_func</h3>
<p>The <code>can_move_to_func</code> takes a Tile as paramter. It will be called whenever 
the Entity attempts a MoveEvent, and the destination Tile for the MoveEvent 
will be passed in.</p>
<p>The engine expects a boolean value to be returned. If <code>true</code> is returned, 
you are telling the engine that the movement to that Tile is OK and should 
be allowed to continue. If <code>false</code> is returned, you are telling the engine to 
reject the movement.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nv">spell</span><span class="p">.</span><span class="py">can_move_to_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">tile</span><span class="p">)</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">tile</span><span class="p">:</span><span class="nf">is_walkable</span><span class="p">()</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="kr">end</span>
</span></code></pre></div>
<p>A common mistake when making a projectile that should move across the screen 
is forgetting to define a <code>can_move_to_func</code>. Without it, the engine will 
believe that all MoveEvents should fail.</p>
<p>This callback will not be used for any type of Player. </p>
<h3 id="delete_func">delete_func</h3>
<p>The <code>delete_func</code> takes the Entity as parameter. It will be called immediately 
when the Entity is marked for deletion by the <code>Entity.delete</code> function.</p>
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nv">spell</span><span class="p">.</span><span class="py">delete_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleted&quot;</span><span class="p">)</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="kr">end</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;About to delete&quot;</span><span class="p">)</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="nv">spell</span><span class="p">:</span><span class="nf">delete</span><span class="p">()</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finished deleting&quot;</span><span class="p">)</span>
</span></code></pre></div>
The above code would output</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>About to delete
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>Deleted
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>Finished deleting
</span></code></pre></div>
<p>The <code>delete_func</code> will not be called more than once.</p>
<h2 id="deletion">Deletion</h2>
<p>An Entity can be marked for deletion at the end of the frame by calling <code>Entity.delete</code>.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nv">spell</span><span class="p">:</span><span class="nf">delete</span><span class="p">()</span>
</span></code></pre></div>
<p>This will cause the Entity's <code>delete_func</code> callback to run.</p>
<p>Once <code>delete</code> has been called, the Entity is put into a state where it is waiting to 
be removed from the field. The Entity "is deleted" already.</p>
<p>While deleted, certain actions cannot be taken on the Entity object. If you try, you'll 
see an error appear telling you that data is deleted. Your code should often have 
safeguards when handling Entity references because of this, especially if the reference 
is kept and accessed across frames.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="cm">--[[</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="cm">    Runs every frame. `player` could be deleted by the next </span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="cm">    time this runs, so check.</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="cm">]]</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="nv">spell</span><span class="p">.</span><span class="py">update_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">is_deleted</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">player</span><span class="p">:</span><span class="nf">get_current_tile</span><span class="p">():</span><span class="nf">x</span><span class="p">())</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="kr">end</span>
</span></code></pre></div>
<p>At some point, the "deleted" Entity will be removed from the field.</p>
<div class="admonition note">
<p class="admonition-title">Missing Info</p>
<p>This notice will be removed once I check when exactly they are removed.</p>
</div>
<h3 id="erase">erase</h3>
<p>There is another function similar to <code>Entity.delete</code>. This is <code>Entity.erase</code>.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nv">spell</span><span class="p">:</span><span class="nf">erase</span><span class="p">()</span>
</span></code></pre></div>
<p>My recommendation is to never call it, and to always use <code>Entity.delete</code> if you 
want to delete something. This is because <code>Entity.erase</code> will skip running an 
Entity's <code>Entity.delete_func</code> callback, which may have had important cleanup 
logic. </p>
<p>One benefit to <code>Entity.erase</code> is that the Entity will not be drawn the frame 
it's called, unlike <code>Entity.delete</code>. But calling <code>Entity.delete</code> with a call to 
<code>Entity.hide</code> will accomplish the same, without compromising <code>Entity.delete_func</code>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.expand", "content.code.copy", "content.code.select"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>